{
    "$id": "https://schemas.3d.si.edu/voyager/item.schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",

    "title": "Item Node",
    "description": "Describes the base part of an item node (scene item, group item, or model item).",

    "definitions": {
        "units": {
            "$id": "#units",
            "type": "string",
            "enum": [
                "inherit",
                "mm",
                "cm",
                "m",
                "in",
                "ft",
                "yd"
            ]
        },
        "meta": {
            "type": "object"
        },
        "article": {
            "$id": "#article",
            "description": "Reference to an external document (HTML) or a media file (audio, video, image).",
            "type": "object",
            "properties": {
                "title": {
                    "description": "Short title.",
                    "type": "string"
                },
                "lead": {
                    "description": "Short lead text.",
                    "type": "string"
                },
                "tags": {
                    "description": "Array of tags, categorizing the article.",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "uri": {
                    "description": "Location of the resource, absolute URL or path relative to this document",
                    "type": "string"
                },
                "mimeType": {
                    "description": "MIME type of the resource.",
                    "type": "string"
                },
                "thumbnailUri": {
                    "description": "Location of a thumbnail/preview image of the resource.",
                    "type": "string"
                }
            },
            "additionalProperties": false
        },
        "annotation": {
            "$id": "#annotation",
            "description": "Spatial annotation (hot spot, hot zone) on a model. Annotations can reference articles.",
            "type": "object",
            "properties": {
                "title": {
                    "type": "string"
                },
                "lead": {
                    "type": "string"
                },
                "tags": {
                    "description": "Array of tags, categorizing the annotation.",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "articles": {
                    "description": "Array of article indices, listing articles related to the annotation.",
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0
                    }
                },
                "style": {
                    "type": "string"
                },
                "visible": {
                    "description": "Flag indicating whether the annotation is visible.",
                    "type": "boolean",
                    "default": true
                },
                "expanded": {
                    "description": "Flag indicating whether the annotation is displayed in expanded state.",
                    "type": "boolean",
                    "default": false
                },
                "scale": {
                    "description": "Scales the annotation relative to its default size.",
                    "type": "number",
                    "default": 1
                },
                "offset": {
                    "description": "Offsets the annotation along its direction.",
                    "type": "number",
                    "default": 0
                },
                "tilt": {
                    "description": "Tilt angle of the annotation relative to the direction vector in degrees.",
                    "type": "number",
                    "default": 0
                },
                "azimuth": {
                    "description": "Azimuth angle of a tilted annotation.",
                    "type": "number",
                    "default": 0
                },
                "position": {
                    "description": "Position where the annotation is anchored, in local item coordinates.",
                    "$ref": "math.schema.json#/definitions/vector3"
                },
                "direction": {
                    "description": "Direction of the stem of this annotation, usually corresponds to the surface normal.",
                    "$ref": "math.schema.json#/definitions/vector3"
                },
                "zoneIndex": {
                    "description": "Index of the zone on the zone texture.",
                    "type": "integer",
                    "minimum": 0
                }
            },
            "additionalProperties": false
        }
    },

    "type": "object",
    "properties": {
        "units": {
            "$ref": "#/definitions/units"
        },
        "meta": {
            "$ref": "#/definitions/meta"
        },
        "articles": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/article"
            },
            "minLength": 1
        },
        "article": {
            "description": "Index of the main article. This is the default article displayed with the item.",
            "type": "integer"
        },
        "annotations": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/annotation"
            },
            "minLength": 1
        }
    },
    "additionalProperties": false
}