{
    "$id": "https://schemas.3d.si.edu/public_api/annotations.schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",

    "title": "Annotations",
    "description": "Spatial annotations (hot spots, hot zones) on a 3D item. Annotations can reference documents.",

    "definitions": {
        "annotation": {
            "$id": "#annotation",
            "type": "object",
            "properties": {
                "id": {
                    "type": "string",
                    "minLength": 1
                },
                "title": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "style": {
                    "type": "string"
                },
                "visible": {
                    "description": "Flag indicating whether the annotation is visible.",
                    "type": "boolean",
                    "default": true
                },
                "expanded": {
                    "description": "Flag indicating whether the annotation is displayed in expanded state.",
                    "type": "boolean",
                    "default": false
                },
                "scale": {
                    "description": "Scales the annotation relative to its default size.",
                    "type": "number",
                    "default": 1
                },
                "offset": {
                    "description": "Offsets the annotation along its direction.",
                    "type": "number",
                    "default": 0
                },
                "tilt": {
                    "description": "Tilt angle of the annotation relative to the direction vector in degrees.",
                    "type": "number",
                    "default": 0
                },
                "azimuth": {
                    "description": "Azimuth angle of a tilted annotation.",
                    "type": "number",
                    "default": 0
                },
                "documents": {
                    "description": "Array of document indices, listing documents related to the annotation.",
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0
                    }
                },
                "groups": {
                    "description": "Array of group indices, listing all groups the annotation belongs to.",
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0
                    }
                },
                "position": {
                    "description": "Position where the annotation is anchored, in local item coordinates.",
                    "$ref": "math.schema.json#/definitions/vector3"
                },
                "direction": {
                    "description": "Direction of the stem of this annotation, usually corresponds to the surface normal.",
                    "$ref": "math.schema.json#/definitions/vector3"
                },
                "zoneIndex": {
                    "description": "Index of the zone on the zone texture.",
                    "type": "integer",
                    "minimum": 0
                }
            },
            "required": [
                "id"
            ],
            "additionalProperties": false
        },
        "group": {
            "$id": "#group",
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "visible": {
                    "type": "boolean"
                }
            },
            "required": [
                "id"
            ],
            "additionalProperties": false
        }
    },

    "type": "object",
    "properties": {
        "annotations": {
            "type": "array",
            "items": {
                "$ref": "#annotation"
            }
        },
        "groups": {
            "type": "array",
            "items": {
                "$ref": "#group"
            }
        }
    },
    "additionalProperties": false
}
