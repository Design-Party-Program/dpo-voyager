{
    "$id": "https://schemas.3d.si.edu/public_api/annotations.schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",

    "title": "Annotations",
    "description": "Spatial annotations (hot spots, hot zones) on a 3D item. Annotations can reference documents.",

    "definitions": {
        "annotation": {
            "$id": "#annotation",
            "type": "object",
            "properties": {
                "title": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "expanded": {
                    "description": "Flag indicating whether this annotation is displayed in expanded state.",
                    "type": "boolean",
                    "default": false
                },
                "snapshot": {
                    "description": "The animation state to recall when this annotation is activated.",
                    "type": "integer",
                    "minimum": 0
                },
                "documents": {
                    "description": "Array of document indices, listing documents related to this annotation.",
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0
                    }
                },
                "groups": {
                    "description": "Array of group indices, listing all groups this annotation belongs to.",
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0
                    }
                }
            }
        }
    },

    "type": "object",
    "properties": {
        "spots": {
            "type": "array",
            "items": {
                "allOf": [
                    {
                        "$ref": "#annotation"
                    }
                ],
                "properties": {
                    "position": {
                        "description": "Position where the annotation is anchored, in local item coordinates.",
                        "$ref": "math.schema.json#/definitions/vector3"
                    },
                    "direction": {
                        "description": "Direction of the stem of this annotation, usually corresponds to the surface normal.",
                        "$ref": "math.schema.json#/definitions/vector3"
                    }
                }
            }
        },
        "zones": {
            "type": "array",
            "items": {
                "allOf": [
                    {
                        "$ref": "#annotation"
                    }
                ],
                "properties": {
                    "index": {
                        "description": "Index of the zone on the zone texture.",
                        "type": "integer",
                        "minimum": 0
                    }
                }
            }

        },
        "groups": {
            "type": "array",
            "items": {

            }

        }
    }
}
